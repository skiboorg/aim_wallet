(globalThis["webpackChunkaim_wallet"]=globalThis["webpackChunkaim_wallet"]||[]).push([[107],{75008:(e,t,a)=>{"use strict";a.d(t,{C:()=>s,d:()=>o});var l=a(13433),n=a(17779);const o=({seed:e,password:t})=>{const a={status:!0,seed:e},n=l.createCipher("aes192",t);return n.update(JSON.stringify(a),"utf8","hex")+n.final("hex")},s=({hash:e,password:t})=>{try{const a=l.createDecipher("aes192",t),n=a.update(e,"hex","utf8")+a.final("utf8"),o=JSON.parse(n);return!!o.status&&o.seed}catch(a){return n.log(a),!1}}},3107:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>oe});var l=a(59835),n=a(86970),o=a(744),s=a.n(o);const i=e=>((0,l.dD)("data-v-533ecd44"),e=e(),(0,l.Cn)(),e),u=i((()=>(0,l._)("img",{src:s()},null,-1))),d=i((()=>(0,l._)("p",{class:"text-bold q-mb-none q-mt-lg text-h6 text-white"},[(0,l._)("span",null,"WALLET")],-1))),c=[u,d],g={class:"form-wrapper"},r={key:1},p={class:"text3d text-center text-weight-bold"};function v(e,t,a,o,s,i){const u=(0,l.up)("Login"),d=((0,l.up)("q-btn"),(0,l.up)("Register")),v=(0,l.up)("page-body"),m=(0,l.up)("page");return(0,l.wg)(),(0,l.j4)(m,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,{class:"page-body main-gradient"},{default:(0,l.w5)((()=>[(0,l._)("div",{class:(0,n.C_)(["logo",{"logo-small":o.is_seed_good||o.hash}])},c,2),(0,l._)("div",g,[o.loginActive?((0,l.wg)(),(0,l.j4)(u,{key:0,onSeedGood:o.setSeed},null,8,["onSeedGood"])):(0,l.kq)("",!0),o.is_seed_good||!o.loginActive||o.hash?(0,l.kq)("",!0):((0,l.wg)(),(0,l.iD)("div",r,[(0,l._)("p",p,(0,n.zw)(e.$t("or_btn")),1),(0,l.kq)("",!0)])),o.loginActive?(0,l.kq)("",!0):((0,l.wg)(),(0,l.j4)(d,{key:2,onOpenLogin:o.openLogin},null,8,["onOpenLogin"]))])])),_:1})])),_:1})}a(46727);var m=a(60499),_=a(87270),w=a(75008),h=a(9991),b=a(18910),y=a(96928),x=a(43463),f=a(44974),k=a(17779);const q={class:"text-white text-h5 text-bold text-center text-primary q-mb-lg"},S={key:0},H={key:0,class:"flex column justify-between"},$={class:""},D={key:1,class:"pincode-tab"},L={__name:"Login",emits:["seedGood"],setup(e,{emit:t}){const a=(0,h.QT)(),o=(0,b.tv)(),s=[{label:"Русский",value:"ru-RU"},{label:"English",value:"en-US"},{label:"French",value:"fr-FR"},{label:"हिन्दी Hindī",value:"hi-IN"}],i=(0,m.iH)(null),u=(0,y.t)(),d=(0,x.s)(),c=(0,f.T)(),g=(0,m.iH)(""),r=(0,m.iH)(""),p=((0,m.iH)(!0),localStorage.getItem("hash"));async function v(e){const t=(0,w.C)({hash:p,password:e});t?(g.value=t,await L()):(0,_.d$)("negative",a.t("wrong_pin"))}async function L(){d.toggleLoadingState();const e=(0,w.d)({seed:g.value,password:r.value});await u.login(g.value,e);const t=localStorage.getItem("addresses");await c.connectWS(JSON.parse(t)[0].address),d.toggleLoadingState(),await o.push({name:"wallet_index"})}async function C(e){r.value=e,await L()}function I(e){const a=/^[A-Za-z0-9]+$/;return!!a.test(e)&&(t("seedGood",{val:[43,44,86,87,88].includes(e.length)}),[43,44,86,87,88].includes(e.length))}(0,l.wF)((()=>{const e=localStorage.getItem("lang");i.value=s.find((t=>t.value===e))}));const Q=()=>{k.log(i.value),localStorage.setItem("lang",i.value.value),o.go("/")};return(e,t)=>{const a=(0,l.up)("q-select"),o=(0,l.up)("q-input"),u=(0,l.up)("pin-code");(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("p",q,(0,n.zw)(e.$t("login_title")),1),(0,m.SU)(p)?((0,l.wg)(),(0,l.iD)("div",D,[(0,l.Wm)(u,{showDigits:!1,onPincode_ready:v}),(0,l.kq)("",!0)])):((0,l.wg)(),(0,l.iD)("div",S,[(0,l.Wm)(a,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.value=e),Q],options:s,filled:"",behavior:"menu",label:"Выберите язык/Choose language",class:"bg-gold q-mb-lg"},null,8,["modelValue"]),(0,l.Wm)(o,{readonly:"",autofocus:"",filled:"",modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),color:"primary",label:e.$t("enter_seed"),class:"input-bg-gold",rules:[t=>t&&t.length>0||e.$t("req_field"),t=>I(t)||e.$t("wrong_seed")]},null,8,["modelValue","label","rules"]),I(g.value)?((0,l.wg)(),(0,l.iD)("div",H,[(0,l._)("div",$,[(0,l.Wm)(u,{showDigits:!0,onPincode_ready:C})])])):(0,l.kq)("",!0)]))],64)}}};var C=a(57786),I=a(13119),Q=a(24455),T=a(69984),W=a.n(T);const z=L,V=z;W()(L,"components",{QSelect:C.Z,QInput:I.Z,QBtn:Q.Z});var Z=a(99407);const U={class:"text-white text-h5 text-bold text-center text-primary"},O={key:0,class:""},A={class:"text-weight-bold text-center text-negative"},j=["innerHTML"],F={class:"text-center"},N={class:"text-golder text-bold",target:"_blank",href:"https://wallet.rupay.pro/rupay_user_agreement.pdf"},R={key:1,class:""},E={class:"text-center q-mt-md"},G={key:2,class:""},J={class:"text-gold"},P={style:{"word-break":"break-all"},class:"text-caption bg-grey-3 q-pa-md"},B={class:"bg-grey-7 text-gold q-pa-md text-weight-medium"},M={__name:"Register",emits:["openLogin"],setup(e,{emit:t}){const a=(0,h.QT)(),o=(0,y.t)(),s=(0,b.tv)(),i=(0,f.T)(),u=(0,m.iH)(1),d=(0,m.iH)(""),c=((0,m.iH)(!0),(0,m.iH)(!1)),g=(0,m.iH)(!1);let r=(0,m.iH)(null);const p=(0,m.iH)([{agree:!1,text:a.t("reg_agree1")},{agree:!1,text:a.t("reg_agree2")},{agree:!1,text:a.t("reg_agree3")}]),v=(0,l.Fl)((()=>p.value[0].agree&&p.value[1].agree&&p.value[2].agree));function x(){t("openLogin")}async function k(e){d.value=e,await q()}async function q(){c.value=!c.value,r.value=await Z.EraChain.Crypt.generateSeed(),c.value=!c.value,u.value=3}async function S(){c.value=!c.value;const e=(0,w.d)({seed:r.value,password:d.value});await o.login(r.value,e);const t=localStorage.getItem("addresses");await i.connectWS(JSON.parse(t)[0].address),await s.push({name:"wallet_index"}),c.value=!c.value}async function H(){await(0,_.QO)(r.value,"positive",a.t("seed_copy_done")),g.value=!0}return(e,t)=>{const a=(0,l.up)("q-toggle"),o=(0,l.up)("q-btn"),s=(0,l.up)("pin-code");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l._)("p",U,(0,n.zw)(e.$t("reg_title")),1),1===u.value?((0,l.wg)(),(0,l.iD)("div",O,[(0,l._)("p",A,(0,n.zw)(e.$t("reg_agree")),1),((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(p.value,((e,t)=>((0,l.wg)(),(0,l.j4)(a,{modelValue:p.value[t].agree,"onUpdate:modelValue":e=>p.value[t].agree=e,"checked-icon":"check",color:"green","unchecked-icon":"clear",class:"text-caption q-mb-md",style:{"line-height":"110%"}},{default:(0,l.w5)((()=>[(0,l._)("p",{class:"no-margin text-gold",innerHTML:e.text},null,8,j)])),_:2},1032,["modelValue","onUpdate:modelValue"])))),256)),(0,l._)("p",F,[(0,l._)("a",N,(0,n.zw)(e.$t("user_agreement")),1)]),(0,m.SU)(v)?((0,l.wg)(),(0,l.j4)(o,{key:0,unelevated:"","no-caps":"",label:e.$t("seed_copy_next"),class:"bg-gold q-py-md full-width",onClick:t[0]||(t[0]=e=>u.value=2),type:"submit",outline:!1},null,8,["label"])):(0,l.kq)("",!0)])):(0,l.kq)("",!0),2===u.value?((0,l.wg)(),(0,l.iD)("div",R,[(0,l.Wm)(s,{showDigits:!0,onPincode_ready:k}),(0,l._)("div",E,[(0,l._)("p",{class:"text-caption no-margin",onClick:x},(0,n.zw)(e.$t("have_seed")),1)])])):(0,l.kq)("",!0),3===u.value?((0,l.wg)(),(0,l.iD)("div",G,[(0,l._)("p",J,(0,n.zw)(e.$t("your_seed")),1),(0,l._)("p",P,(0,n.zw)((0,m.SU)(r)),1),(0,l.Wm)(o,{onClick:H,"no-caps":"",label:e.$t("seed_copy_btn"),unelevated:"",class:"bg-gold q-py-md full-width q-mb-md"},null,8,["label"]),(0,l._)("p",B,(0,n.zw)(e.$t("seed_copy")),1),(0,l.Wm)(o,{unelevated:"","no-caps":"",label:g.value?e.$t("seed_copy_next"):e.$t("seed_copy_need_copy"),disabled:!g.value,is_loading:c.value,onClick:S,class:"bg-gold q-py-md full-width",type:"submit",outline:!1},null,8,["label","disabled","is_loading"])])):(0,l.kq)("",!0)],64)}}};var Y=a(23175);const K=M,X=K;W()(M,"components",{QToggle:Y.Z,QBtn:Q.Z});const ee={name:"IndexPage",components:{Register:X,Login:V},preFetch({redirect:e,router:t}){localStorage.getItem("seed")},setup(){const e=(0,m.iH)(!0),t=(0,m.iH)(!1),a=localStorage.getItem("hash"),l="AIMTOKEN";function n(e){t.value=e.val}function o(a){t.value=!1,e.value=!0}return{loginActive:e,is_seed_good:t,hash:a,wallet_name:l,setSeed:n,openLogin:o}}};var te=a(11639),ae=a(70335),le=a(18149);const ne=(0,te.Z)(ee,[["render",v],["__scopeId","data-v-533ecd44"]]),oe=ne;W()(ee,"components",{QBtn:Q.Z,QImg:ae.Z,QField:le.Z})},744:(e,t,a)=>{e.exports=a.p+"img/logo.f10e885a.png"}}]);