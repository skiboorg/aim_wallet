(globalThis["webpackChunkaim_wallet"]=globalThis["webpackChunkaim_wallet"]||[]).push([[130],{75008:(e,t,l)=>{"use strict";l.d(t,{C:()=>s,d:()=>o});var a=l(13433),n=l(17779);const o=({seed:e,password:t})=>{const l={status:!0,seed:e},n=a.createCipher("aes192",t);return n.update(JSON.stringify(l),"utf8","hex")+n.final("hex")},s=({hash:e,password:t})=>{try{const l=a.createDecipher("aes192",t),n=l.update(e,"hex","utf8")+l.final("utf8"),o=JSON.parse(n);return!!o.status&&o.seed}catch(l){return n.log(l),!1}}},8130:(e,t,l)=>{"use strict";l.r(t),l.d(t,{default:()=>oe});var a=l(59835),n=l(86970),o=l(744),s=l.n(o);const i=e=>((0,a.dD)("data-v-4bf830ae"),e=e(),(0,a.Cn)(),e),u=i((()=>(0,a._)("img",{src:s()},null,-1))),d=i((()=>(0,a._)("p",{class:"text-bold q-mb-none q-mt-lg text-h6 text-white"},[(0,a._)("span",null,"WALLET")],-1))),c=[u,d],g={class:"form-wrapper"},r={key:1},p={class:"text3d text-center text-weight-bold"};function v(e,t,l,o,s,i){const u=(0,a.up)("Login"),d=(0,a.up)("q-btn"),v=(0,a.up)("Register"),m=(0,a.up)("page-body"),_=(0,a.up)("page");return(0,a.wg)(),(0,a.j4)(_,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{class:"page-body main-gradient"},{default:(0,a.w5)((()=>[(0,a._)("div",{class:(0,n.C_)(["logo",{"logo-small":o.is_seed_good||o.hash}])},c,2),(0,a._)("div",g,[o.loginActive?((0,a.wg)(),(0,a.j4)(u,{key:0,onSeedGood:o.setSeed},null,8,["onSeedGood"])):(0,a.kq)("",!0),o.is_seed_good||!o.loginActive||o.hash?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",r,[(0,a._)("p",p,(0,n.zw)(e.$t("or_btn")),1),(0,a.Wm)(d,{label:e.$t("create_btn"),unelevated:"","no-caps":"",class:"bg-gold full-width q-py-md",onClick:t[0]||(t[0]=e=>o.loginActive=!1)},null,8,["label"])])),o.loginActive?(0,a.kq)("",!0):((0,a.wg)(),(0,a.j4)(v,{key:2,onOpenLogin:o.openLogin},null,8,["onOpenLogin"]))])])),_:1})])),_:1})}l(46727);var m=l(60499),_=l(87270),w=l(75008),h=l(9991),b=l(18910),y=l(96928),x=l(43463),f=l(44974),k=l(17779);const q={class:"text-white text-h5 text-bold text-center text-primary q-mb-lg"},S={key:0},H={key:0,class:"flex column justify-between"},$={class:""},C={key:1,class:"pincode-tab"},D={__name:"Login",emits:["seedGood"],setup(e,{emit:t}){const l=(0,h.QT)(),o=(0,b.tv)(),s=[{label:"Русский",value:"ru-RU"},{label:"English",value:"en-US"},{label:"French",value:"fr-FR"},{label:"हिन्दी Hindī",value:"hi-IN"}],i=(0,m.iH)(null),u=(0,y.t)(),d=(0,x.s)(),c=(0,f.T)(),g=(0,m.iH)(""),r=(0,m.iH)(""),p=((0,m.iH)(!0),localStorage.getItem("hash"));async function v(e){const t=(0,w.C)({hash:p,password:e});t?(g.value=t,await D()):(0,_.d$)("negative",l.t("wrong_pin"))}async function D(){d.toggleLoadingState();const e=(0,w.d)({seed:g.value,password:r.value});await u.login(g.value,e);const t=localStorage.getItem("addresses");await c.connectWS(JSON.parse(t)[0].address),d.toggleLoadingState(),await o.push({name:"wallet_index"})}async function L(e){r.value=e,await D()}async function I(){await u.logout()}function W(e){const l=/^[A-Za-z0-9]+$/;return!!l.test(e)&&(t("seedGood",{val:[43,44,86,87,88].includes(e.length)}),[43,44,86,87,88].includes(e.length))}(0,a.wF)((()=>{const e=localStorage.getItem("lang");i.value=s.find((t=>t.value===e))}));const z=()=>{k.log(i.value),localStorage.setItem("lang",i.value.value),o.go("/")};return(e,t)=>{const l=(0,a.up)("q-select"),o=(0,a.up)("q-input"),u=(0,a.up)("pin-code"),d=(0,a.up)("q-btn");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("p",q,(0,n.zw)(e.$t("login_title")),1),(0,m.SU)(p)?((0,a.wg)(),(0,a.iD)("div",C,[(0,a.Wm)(u,{showDigits:!1,onPincode_ready:v}),(0,a.Wm)(d,{"no-caps":"",outline:"",flat:"",class:"full-width q-mt-md",onClick:I,size:"14px",dense:"",color:"negative",label:e.$t("lost_pin")},null,8,["label"])])):((0,a.wg)(),(0,a.iD)("div",S,[(0,a.Wm)(l,{modelValue:i.value,"onUpdate:modelValue":[t[0]||(t[0]=e=>i.value=e),z],options:s,filled:"",behavior:"menu",label:"Выберите язык/Choose language",class:"bg-gold q-mb-lg"},null,8,["modelValue"]),(0,a.Wm)(o,{readonly:"",autofocus:"",filled:"",modelValue:g.value,"onUpdate:modelValue":t[1]||(t[1]=e=>g.value=e),color:"primary",label:e.$t("enter_seed"),class:"input-bg-gold",rules:[t=>t&&t.length>0||e.$t("req_field"),t=>W(t)||e.$t("wrong_seed")]},null,8,["modelValue","label","rules"]),W(g.value)?((0,a.wg)(),(0,a.iD)("div",H,[(0,a._)("div",$,[(0,a.Wm)(u,{showDigits:!0,onPincode_ready:L})])])):(0,a.kq)("",!0)]))],64)}}};var L=l(57786),I=l(13119),W=l(24455),z=l(69984),Q=l.n(z);const T=D,V=T;Q()(D,"components",{QSelect:L.Z,QInput:I.Z,QBtn:W.Z});var Z=l(99407);const U={class:"text-white text-h5 text-bold text-center text-primary"},A={key:0,class:""},O={class:"text-weight-bold text-center text-negative"},j=["innerHTML"],F={class:"text-center"},N={class:"text-golder text-bold",target:"_blank",href:"https://wallet.rupay.pro/rupay_user_agreement.pdf"},R={key:1,class:""},E={class:"text-center q-mt-md"},G={key:2,class:""},J={class:"text-gold"},P={style:{"word-break":"break-all"},class:"text-caption bg-grey-3 q-pa-md"},B={class:"bg-grey-7 text-gold q-pa-md text-weight-medium"},M={__name:"Register",emits:["openLogin"],setup(e,{emit:t}){const l=(0,h.QT)(),o=(0,y.t)(),s=(0,b.tv)(),i=(0,f.T)(),u=(0,m.iH)(1),d=(0,m.iH)(""),c=((0,m.iH)(!0),(0,m.iH)(!1)),g=(0,m.iH)(!1);let r=(0,m.iH)(null);const p=(0,m.iH)([{agree:!1,text:l.t("reg_agree1")},{agree:!1,text:l.t("reg_agree2")},{agree:!1,text:l.t("reg_agree3")}]),v=(0,a.Fl)((()=>p.value[0].agree&&p.value[1].agree&&p.value[2].agree));function x(){t("openLogin")}async function k(e){d.value=e,await q()}async function q(){c.value=!c.value,r.value=await Z.EraChain.Crypt.generateSeed(),c.value=!c.value,u.value=3}async function S(){c.value=!c.value;const e=(0,w.d)({seed:r.value,password:d.value});await o.login(r.value,e);const t=localStorage.getItem("addresses");await i.connectWS(JSON.parse(t)[0].address),await s.push({name:"wallet_index"}),c.value=!c.value}async function H(){await(0,_.QO)(r.value,"positive",l.t("seed_copy_done")),g.value=!0}return(e,t)=>{const l=(0,a.up)("q-toggle"),o=(0,a.up)("q-btn"),s=(0,a.up)("pin-code");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a._)("p",U,(0,n.zw)(e.$t("reg_title")),1),1===u.value?((0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("p",O,(0,n.zw)(e.$t("reg_agree")),1),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(p.value,((e,t)=>((0,a.wg)(),(0,a.j4)(l,{modelValue:p.value[t].agree,"onUpdate:modelValue":e=>p.value[t].agree=e,"checked-icon":"check",color:"green","unchecked-icon":"clear",class:"text-caption q-mb-md",style:{"line-height":"110%"}},{default:(0,a.w5)((()=>[(0,a._)("p",{class:"no-margin text-gold",innerHTML:e.text},null,8,j)])),_:2},1032,["modelValue","onUpdate:modelValue"])))),256)),(0,a._)("p",F,[(0,a._)("a",N,(0,n.zw)(e.$t("user_agreement")),1)]),(0,m.SU)(v)?((0,a.wg)(),(0,a.j4)(o,{key:0,unelevated:"","no-caps":"",label:e.$t("seed_copy_next"),class:"bg-gold q-py-md full-width",onClick:t[0]||(t[0]=e=>u.value=2),type:"submit",outline:!1},null,8,["label"])):(0,a.kq)("",!0)])):(0,a.kq)("",!0),2===u.value?((0,a.wg)(),(0,a.iD)("div",R,[(0,a.Wm)(s,{showDigits:!0,onPincode_ready:k}),(0,a._)("div",E,[(0,a._)("p",{class:"text-caption no-margin",onClick:x},(0,n.zw)(e.$t("have_seed")),1)])])):(0,a.kq)("",!0),3===u.value?((0,a.wg)(),(0,a.iD)("div",G,[(0,a._)("p",J,(0,n.zw)(e.$t("your_seed")),1),(0,a._)("p",P,(0,n.zw)((0,m.SU)(r)),1),(0,a.Wm)(o,{onClick:H,"no-caps":"",label:e.$t("seed_copy_btn"),unelevated:"",class:"bg-gold q-py-md full-width q-mb-md"},null,8,["label"]),(0,a._)("p",B,(0,n.zw)(e.$t("seed_copy")),1),(0,a.Wm)(o,{unelevated:"","no-caps":"",label:g.value?e.$t("seed_copy_next"):e.$t("seed_copy_need_copy"),disabled:!g.value,is_loading:c.value,onClick:S,class:"bg-gold q-py-md full-width",type:"submit",outline:!1},null,8,["label","disabled","is_loading"])])):(0,a.kq)("",!0)],64)}}};var Y=l(23175);const K=M,X=K;Q()(M,"components",{QToggle:Y.Z,QBtn:W.Z});const ee={name:"IndexPage",components:{Register:X,Login:V},preFetch({redirect:e,router:t}){localStorage.getItem("seed")},setup(){const e=(0,m.iH)(!0),t=(0,m.iH)(!1),l=localStorage.getItem("hash"),a="AIMTOKEN";function n(e){t.value=e.val}function o(l){t.value=!1,e.value=!0}return{loginActive:e,is_seed_good:t,hash:l,wallet_name:a,setSeed:n,openLogin:o}}};var te=l(11639),le=l(70335),ae=l(18149);const ne=(0,te.Z)(ee,[["render",v],["__scopeId","data-v-4bf830ae"]]),oe=ne;Q()(ee,"components",{QBtn:W.Z,QImg:le.Z,QField:ae.Z})},744:(e,t,l)=>{e.exports=l.p+"img/logo.f10e885a.png"}}]);